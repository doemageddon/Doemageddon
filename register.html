<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Register - Doemageddon</title>
  <link rel="stylesheet" href="assets/styles/style.css" />
  <style>
    #confirmation-message {
      background-color: rgba(0, 128, 0, 0.7);
      color: #fff;
      padding: 1rem;
      text-align: center;
      border-radius: 6px;
      margin-top: 1rem;
      display: none;
    }
  </style>
</head>
<body>

<!-- NAVIGATION WITH HAMBURGER -->
<nav class="navbar">
  <a href="index.html">
    <img src="assets/images/doemageddon-logo.jpg" alt="Doemageddon Logo" class="logo" />
  </a>

  <button class="hamburger" aria-label="Toggle menu">☰</button>

  <ul class="nav-links">
    <li><a href="index.html" class="active">Home</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="rules.html">Rules</a></li>
    <li><a href="register.html">Register</a></li>
    <li><a href="sponsors.html">Sponsors</a></li>
    <li><a href="store.html">Store</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>


  <!-- Hero Section -->
  <section class="hero">
    <h1>Register for Doemageddon</h1>
    <p>Join us in the hunt and help feed families in need. Each registration covers one hunter. You may optionally add a meal ticket for a plus one.</p>
  </section>

  <!-- Registration Form -->
  <section class="section">
    <h2>Hunter Registration</h2>
    <form id="registration-form">
      <div class="form-group">
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name" required />
      </div>
      
      <div class="form-group">
        <label for="email">Email Address:</label>
        <input type="email" id="email" name="email" required />
      </div>
      
      <div class="form-group">
        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required />
      </div>

      <label for="shirtSize">T-Shirt Size</label>
<select id="shirtSize" name="shirtSize" required>
  <option value="" disabled selected>Select your size</option>
  <option value="Small">Small</option>
  <option value="Medium">Medium</option>
  <option value="Large">Large</option>
  <option value="XL">XL</option>
  <option value="XXL">XXL</option>
  <option value="XXXL">XXXL</option>
  <option value="XXXXL">XXXXL</option>
</select>


      <div class="form-group checkbox">
        <label>
          <input type="checkbox" id="mealTicket" name="mealTicket" />
          Add Meal Ticket for Plus One ($20)
        </label>
      </div>

      <button type="submit" class="buy-btn">Register & Pay</button>
    </form>

    <div id="confirmation-message">
      Registration submitted! You’re being redirected to Stripe to complete payment.
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Doemageddon. All rights reserved.</p>
  </footer>

  <!-- Submission Script -->
  <script>
    document.getElementById('registration-form').addEventListener('submit', async function (e) {
      e.preventDefault();

      const form = e.target;
      const data = new FormData(form);

      const response = await fetch('https://formspree.io/f/xeozrbrw', {
        method: 'POST',
        headers: { Accept: 'application/json' },
        body: data
      });

      if (response.ok) {
        // Show confirmation message
        document.getElementById('confirmation-message').style.display = 'block';

        // Delay before redirecting to Stripe
        setTimeout(() => {
          window.location.href = 'https://buy.stripe.com/7sY5kC0Ya6eB5uxcx8cs800';
        }, 2500);
      } else {
        alert('There was a problem submitting your registration. Please try again.');
      }
    });
  </script>


    <!-- FOOTER -->
  <footer>
    &copy; 2025 Doemageddon. All rights reserved.
  </footer>

<!-- HAMBURGER SCRIPT -->
<script>
  const hamburger = document.querySelector('.hamburger');
  const navLinks = document.querySelector('.nav-links');

  hamburger.addEventListener('click', () => {
    navLinks.classList.toggle('show');
  });
</script>


</body>
</html>
